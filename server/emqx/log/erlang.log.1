
=====
===== LOGGING STARTED Fri Oct 26 21:32:05 CST 2018
=====

=====
===== LOGGING STARTED Fri Oct 26 21:33:25 CST 2018
=====

=====
===== LOGGING STARTED Fri Oct 26 21:35:24 CST 2018
=====

=====
===== LOGGING STARTED Fri Oct 26 21:47:51 CST 2018
=====

=====
===== LOGGING STARTED Sat Oct 27 20:42:32 CST 2018
=====

=====
===== LOGGING STARTED Thu Nov  1 16:31:59 CST 2018
=====
Exec: /home/liguo/project/cloudHand/server/emqx/erts-10.0.5/bin/erlexec -boot /home/liguo/project/cloudHand/server/emqx/releases/3.0/emqx -mode embedded -boot_var ERTS_LIB_DIR /home/liguo/project/cloudHand/server/emqx/erts-10.0.5/../lib -mnesia dir "/home/liguo/project/cloudHand/server/emqx/data/mnesia/emqx@127.0.0.1" -config /home/liguo/project/cloudHand/server/emqx/data/configs/app.2018.11.01.16.32.00.config -args_file /home/liguo/project/cloudHand/server/emqx/data/configs/vm.2018.11.01.16.32.00.args -vm_args /home/liguo/project/cloudHand/server/emqx/data/configs/vm.2018.11.01.16.32.00.args -- console
Root: /home/liguo/project/cloudHand/server/emqx
/home/liguo/project/cloudHand/server/emqx
Erlang/OTP 21 [erts-10.0.5] [source] [64-bit] [smp:4:4] [ds:4:4:10] [async-threads:32] [hipe]

=INFO REPORT==== 1-Nov-2018::16:32:03.551342 ===
    alarm_handler: {set,{system_memory_high_watermark,[]}}
=INFO REPORT==== 1-Nov-2018::16:32:03.557572 ===
    msg: event=server_setup_successfully driver=tcp socket="#Port<0.11>"
    options: []
=INFO REPORT==== 1-Nov-2018::16:32:03.557892 ===
    msg: event=start
    options: []
Starting emqx on node emqx@127.0.0.1
Load emqx_mod_presence module successfully.
Start http:management listener on 8080 successfully.
Start http:dashboard listener on 18083 successfully.
Start mqtt:tcp listener on 127.0.0.1:11883 successfully.
Start mqtt:tcp listener on 0.0.0.0:1883 successfully.
Start mqtt:ws listener on 0.0.0.0:8083 successfully.
Start mqtt:ssl listener on 0.0.0.0:8883 successfully.
Start mqtt:wss listener on 0.0.0.0:8084 successfully.
EMQ X Broker 3.0 is running now!
Eshell V10.0.5  (abort with ^G)
(emqx@127.0.0.1)1> =CRASH REPORT==== 1-Nov-2018::16:32:18.281903 ===
  crasher:
    initial call: mysql:init/1
    pid: <0.1758.0>
    registered_name: []
    exception exit: {1045,<<"28000">>,
                     <<"Access denied for user ''@'localhost' (using password: NO)">>}
      in function  gen_server:init_it/6 (gen_server.erl, line 358)
    ancestors: [<0.1757.0>,<0.1756.0>,<0.1754.0>,emqx_auth_mysql_sup,
                  <0.1752.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1757.0>,#Port<0.28>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 1260
  neighbours:

=SUPERVISOR REPORT==== 1-Nov-2018::16:32:18.282636 ===
    supervisor: {<0.1756.0>,ecpool_worker_sup}
    errorContext: start_error
    reason: {1045,<<"28000">>,
             <<"Access denied for user ''@'localhost' (using password: NO)">>}
    offender: [{pid,undefined},
               {id,{worker,1}},
               {mfargs,{ecpool_worker,start_link,
                                      [emqx_auth_mysql,1,emqx_auth_mysql_cli,
                                       [{pool_size,8},
                                        {auto_reconnect,1},
                                        {host,"127.0.0.1"},
                                        {port,3306},
                                        {user,[]},
                                        {password,[]},
                                        {database,"mqtt"},
                                        {encoding,utf8},
                                        {keep_alive,true}]]}},
               {restart_type,transient},
               {shutdown,5000},
               {child_type,worker}]
=CRASH REPORT==== 1-Nov-2018::16:32:18.283904 ===
  crasher:
    initial call: ecpool_worker:init/1
    pid: <0.1757.0>
    registered_name: []
    exception exit: {1045,<<"28000">>,
                     <<"Access denied for user ''@'localhost' (using password: NO)">>}
      in function  gen_server:init_it/6 (gen_server.erl, line 358)
    ancestors: [<0.1756.0>,<0.1754.0>,emqx_auth_mysql_sup,<0.1752.0>]
    message_queue_len: 0
    messages: []
    links: [<0.1756.0>,<0.1758.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 376
    stack_size: 27
    reductions: 272
  neighbours:

=SUPERVISOR REPORT==== 1-Nov-2018::16:32:18.285044 ===
    supervisor: {<0.1754.0>,ecpool_pool_sup}
    errorContext: start_error
    reason: {shutdown,
                {failed_to_start_child,
                    {worker,1},
                    {1045,<<"28000">>,
                     <<"Access denied for user ''@'localhost' (using password: NO)">>}}}
    offender: [{pid,undefined},
               {id,worker_sup},
               {mfargs,
                   {ecpool_worker_sup,start_link,
                       [emqx_auth_mysql,emqx_auth_mysql_cli,
                        [{pool_size,8},
                         {auto_reconnect,1},
                         {host,"127.0.0.1"},
                         {port,3306},
                         {user,[]},
                         {password,[]},
                         {database,"mqtt"},
                         {encoding,utf8},
                         {keep_alive,true}]]}},
               {restart_type,transient},
               {shutdown,infinity},
               {child_type,supervisor}]
=SUPERVISOR REPORT==== 1-Nov-2018::16:32:18.286273 ===
    supervisor: {local,emqx_auth_mysql_sup}
    errorContext: start_error
    reason: {shutdown,
                {failed_to_start_child,worker_sup,
                    {shutdown,
                        {failed_to_start_child,
                            {worker,1},
                            {1045,<<"28000">>,
                             <<"Access denied for user ''@'localhost' (using password: NO)">>}}}}}
    offender: [{pid,undefined},
               {id,emqx_auth_mysql},
               {mfargs,{ecpool,start_pool,
                               [emqx_auth_mysql,emqx_auth_mysql_cli,
                                [{pool_size,8},
                                 {auto_reconnect,1},
                                 {host,"127.0.0.1"},
                                 {port,3306},
                                 {user,[]},
                                 {password,[]},
                                 {database,"mqtt"},
                                 {encoding,utf8},
                                 {keep_alive,true}]]}},
               {restart_type,permanent},
               {shutdown,5000},
               {child_type,supervisor}]
=CRASH REPORT==== 1-Nov-2018::16:32:18.287655 ===
  crasher:
    initial call: application_master:init/4
    pid: <0.1751.0>
    registered_name: []
    exception exit: {bad_return,
                     {{emqx_auth_mysql_app,start,[normal,[]]},
                      {'EXIT',
                       {{badmatch,
                         {error,
                          {shutdown,
                           {failed_to_start_child,emqx_auth_mysql,
                            {shutdown,
                             {failed_to_start_child,worker_sup,
                              {shutdown,
                               {failed_to_start_child,
                                {worker,1},
                                {1045,<<"28000">>,
                                 <<"Access denied for user ''@'localhost' (using password: NO)">>}}}}}}}}},
                        [{emqx_auth_mysql_app,start,2,
                          [{file,"src/emqx_auth_mysql_app.erl"},{line,31}]},
                         {application_master,start_it_old,4,
                          [{file,"application_master.erl"},{line,277}]}]}}}}
      in function  application_master:init/4 (application_master.erl, line 138)
    ancestors: [<0.1750.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.1752.0>,normal}]
    links: [<0.1750.0>,<0.1243.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 27
    reductions: 213
  neighbours:

=ERROR REPORT==== 1-Nov-2018::16:32:18.293585 ===
PUT /api/v3/nodes/emqx@127.0.0.1/plugins/emqx_auth_mysql/load error: badarg, stacktrace:
[{jsx_parser,value,4,[{file,"src/jsx_parser.erl"},{line,163}]},
 {minirest_handler,jsonify,4,[{file,"src/minirest_handler.erl"},{line,130}]},
 {minirest,handle_request,2,[{file,"src/minirest.erl"},{line,66}]},
 {minirest,init,2,[{file,"src/minirest.erl"},{line,51}]},
 {cowboy_handler,execute,2,[{file,"src/cowboy_handler.erl"},{line,37}]},
 {cowboy_stream_h,execute,3,[{file,"src/cowboy_stream_h.erl"},{line,274}]},
 {cowboy_stream_h,request_process,3,
                  [{file,"src/cowboy_stream_h.erl"},{line,252}]},
 {proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
=INFO REPORT==== 1-Nov-2018::16:32:18.293176 ===
    application: emqx_auth_mysql 
    exited: {bad_return,
             {{emqx_auth_mysql_app,start,[normal,[]]},
              {'EXIT',
               {{badmatch,
                 {error,
                  {shutdown,
                   {failed_to_start_child,emqx_auth_mysql,
                    {shutdown,
                     {failed_to_start_child,worker_sup,
                      {shutdown,
                       {failed_to_start_child,
                        {worker,1},
                        {1045,<<"28000">>,
                         <<"Access denied for user ''@'localhost' (using password: NO)">>}}}}}}}}},
                [{emqx_auth_mysql_app,start,2,
                  [{file,"src/emqx_auth_mysql_app.erl"},{line,31}]},
                 {application_master,start_it_old,4,
                  [{file,"application_master.erl"},{line,277}]}]}}}}
    type: temporary
16:32:18.282 [error] CRASH REPORT Process <0.1758.0> with 0 neighbours exited with reason: {1045,<<"28000">>,<<"Access denied for user ''@'localhost' (using password: NO)">>} in gen_server:init_it/6 line 358
16:32:18.283 [error] Supervisor {<0.1756.0>,ecpool_worker_sup} had child {worker,1} started with ecpool_worker:start_link(emqx_auth_mysql, 1, emqx_auth_mysql_cli, [{pool_size,8},{auto_reconnect,1},{host,"127.0.0.1"},{port,3306},{user,[]},{password,[]},{database,...},...]) at undefined exit with reason {1045,<<"28000">>,<<"Access denied for user ''@'localhost' (using password: NO)">>} in context start_error
16:32:18.284 [error] CRASH REPORT Process <0.1757.0> with 0 neighbours exited with reason: {1045,<<"28000">>,<<"Access denied for user ''@'localhost' (using password: NO)">>} in gen_server:init_it/6 line 358
16:32:18.287 [error] Supervisor {<0.1754.0>,ecpool_pool_sup} had child worker_sup started with ecpool_worker_sup:start_link(emqx_auth_mysql, emqx_auth_mysql_cli, [{pool_size,8},{auto_reconnect,1},{host,"127.0.0.1"},{port,3306},{user,[]},{password,[]},{database,...},...]) at undefined exit with reason {shutdown,{failed_to_start_child,{worker,1},{1045,<<"28000">>,<<"Access denied for user ''@'localhost' (using password: NO)">>}}} in context start_error
16:32:18.287 [error] Supervisor emqx_auth_mysql_sup had child emqx_auth_mysql started with ecpool:start_pool(emqx_auth_mysql, emqx_auth_mysql_cli, [{pool_size,8},{auto_reconnect,1},{host,"127.0.0.1"},{port,3306},{user,[]},{password,[]},{database,...},...]) at undefined exit with reason {shutdown,{failed_to_start_child,worker_sup,{shutdown,{failed_to_start_child,{worker,1},{1045,<<"28000">>,<<"Access denied for user ''@'localhost' (using password: NO)">>}}}}} in context start_error
16:32:18.288 [error] CRASH REPORT Process <0.1751.0> with 0 neighbours exited with reason: no match of right hand value {error,{shutdown,{failed_to_start_child,emqx_auth_mysql,{shutdown,{failed_to_start_child,worker_sup,{shutdown,{failed_to_start_child,{worker,1},{1045,<<"28000">>,<<"Access denied for user ''@'localhost' (using password: NO)">>}}}}}}}} in emqx_auth_mysql_app:start/2 line 31 in application_master:init/4 line 138
16:32:18.293 [error] Load plugin emqx_auth_mysql error, cannot start app emqx_auth_mysql for {bad_return,{{emqx_auth_mysql_app,start,[normal,[]]},{'EXIT',{{badmatch,{error,{shutdown,{failed_to_start_child,emqx_auth_mysql,{shutdown,{failed_to_start_child,worker_sup,{shutdown,{failed_to_start_child,{worker,1},{1045,<<"28000">>,<<"Access denied for user ''@'localhost' (using password: NO)">>}}}}}}}}},[{emqx_auth_mysql_app,start,2,[{file,"src/emqx_auth_mysql_app.erl"},{line,31}]},{application_master,start_it_old,4,[{file,"application_master.erl"},{line,277}]}]}}}}
16:32:18.293 [error] PUT /api/v3/nodes/emqx@127.0.0.1/plugins/emqx_auth_mysql/load error: badarg, stacktrace:
[{jsx_parser,value,4,[{file,"src/jsx_parser.erl"},{line,163}]},{minirest_handler,jsonify,4,[{file,"src/minirest_handler.erl"},{line,130}]},{minirest,handle_request,2,[{file,"src/minirest.erl"},{line,66}]},{minirest,init,2,[{file,"src/minirest.erl"},{line,51}]},{cowboy_handler,execute,2,[{file,"src/cowboy_handler.erl"},{line,37}]},{cowboy_stream_h,execute,3,[{file,"src/cowboy_stream_h.erl"},{line,274}]},{cowboy_stream_h,request_process,3,[{file,"src/cowboy_stream_h.erl"},{line,252}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
=INFO REPORT==== 1-Nov-2018::16:32:26.351547 ===
    application: emqx_management 
    exited: stopped
    type: temporary
=INFO REPORT==== 1-Nov-2018::16:32:26.351711 ===
    application: emqx_recon
    exited: stopped
    type: temporary
=INFO REPORT==== 1-Nov-2018::16:32:26.352505 ===
    application: emqx_retainer
    exited: stopped
    type: temporary
=INFO REPORT==== 1-Nov-2018::16:32:26.353400 ===
    application: emqx_dashboard
    exited: stopped
    type: temporary
=INFO REPORT==== 1-Nov-2018::16:32:26.354009 ===
    application: emqx_delayed_publish
    exited: stopped
    type: temporary
=INFO REPORT==== 1-Nov-2018::16:32:26.358394 ===
mqtt:tcp stopped on 127.0.0.1:11883

Stop mqtt:tcp listener on 127.0.0.1:11883 successfully.
=INFO REPORT==== 1-Nov-2018::16:32:26.358913 ===
mqtt:tcp stopped on 0.0.0.0:1883 

Stop mqtt:tcp listener on 0.0.0.0:1883 successfully.
Stop mqtt:ws listener on 0.0.0.0:8083 successfully.
=INFO REPORT==== 1-Nov-2018::16:32:26.359578 ===
mqtt:ssl stopped on 0.0.0.0:8883 

Stop mqtt:ssl listener on 0.0.0.0:8883 successfully.
Stop mqtt:wss listener on 0.0.0.0:8084 successfully.
=SUPERVISOR REPORT==== 1-Nov-2018::16:32:26.547307 ===
    supervisor: {local,gr_param_sup}
    errorContext: child_terminated
    reason: killed
    offender: [{pid,<0.1384.0>},
               {id,gr_lager_default_tracer_params},
               {mfargs,{gr_param,start_link,[gr_lager_default_tracer_params]}},
               {restart_type,transient},
               {shutdown,brutal_kill},
               {child_type,worker}]
=SUPERVISOR REPORT==== 1-Nov-2018::16:32:26.547239 ===
    supervisor: {local,gr_counter_sup}
    errorContext: child_terminated
    reason: killed
    offender: [{pid,<0.1385.0>},
               {id,gr_lager_default_tracer_counters},
               {mfargs,{gr_counter,start_link,
                                   [gr_lager_default_tracer_counters]}},
               {restart_type,transient},
               {shutdown,brutal_kill},
               {child_type,worker}]
[os_mon] memory supervisor port (memsup): Erlang has closed
=INFO REPORT==== 1-Nov-2018::16:32:26.548877 ===
    alarm_handler: {clear,system_memory_high_watermark}
[os_mon] cpu supervisor port (cpu_sup): Erlang has closed
